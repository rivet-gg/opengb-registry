// Do not modify this `datasource` block
datasource db {
	provider = "postgresql"
	url      = env("DATABASE_URL")
}

model ProviderEntries {
    userId          String      @db.Uuid

	providerType    String
	providerId      String
	uniqueData      Json

	additionalData  Json

	// Additional indexes for speed
	@@index([userId])
	@@index([providerType, providerId])

	// Each user should only have one identity per provider (for now)
	@@id([userId, providerType, providerId])

	// Each provider identity should only be linked to one user
	@@index([providerType, providerId, uniqueData])
	@@unique([providerType, providerId, uniqueData])
}
